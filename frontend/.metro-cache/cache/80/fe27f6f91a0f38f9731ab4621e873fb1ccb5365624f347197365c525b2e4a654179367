{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"apiConfig\", {\n    enumerable: true,\n    get: function () {\n      return apiConfig;\n    }\n  });\n  Object.defineProperty(exports, \"getApiUrl\", {\n    enumerable: true,\n    get: function () {\n      return getApiUrl;\n    }\n  });\n  Object.defineProperty(exports, \"getApiUrlSync\", {\n    enumerable: true,\n    get: function () {\n      return getApiUrlSync;\n    }\n  });\n  Object.defineProperty(exports, \"setApiUrl\", {\n    enumerable: true,\n    get: function () {\n      return setApiUrl;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL_KEY = 'api_server_url';\n  const DEFAULT_API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://shooting-range-ua.preview.emergentagent.com';\n  class ApiConfig {\n    currentUrl = DEFAULT_API_URL;\n    initialized = false;\n    async initialize() {\n      if (this.initialized) return;\n      try {\n        const savedUrl = await AsyncStorage.default.getItem(API_URL_KEY);\n        if (savedUrl) {\n          this.currentUrl = savedUrl;\n        }\n        this.initialized = true;\n      } catch (error) {\n        console.error('Failed to load API URL from storage:', error);\n        this.currentUrl = DEFAULT_API_URL;\n        this.initialized = true;\n      }\n    }\n    async setApiUrl(url) {\n      try {\n        await AsyncStorage.default.setItem(API_URL_KEY, url);\n        this.currentUrl = url;\n        console.log('API URL updated to:', url);\n      } catch (error) {\n        console.error('Failed to save API URL:', error);\n        throw error;\n      }\n    }\n    getApiUrl() {\n      return this.currentUrl;\n    }\n    getDefaultUrl() {\n      return DEFAULT_API_URL;\n    }\n  }\n  const apiConfig = new ApiConfig();\n\n  // Helper function to get API URL (ensures initialization)\n  const getApiUrl = async () => {\n    await apiConfig.initialize();\n    return apiConfig.getApiUrl();\n  };\n\n  // Synchronous version (use only after initialization)\n  const getApiUrlSync = () => {\n    return apiConfig.getApiUrl();\n  };\n\n  // Update API URL\n  const setApiUrl = async url => {\n    await apiConfig.setApiUrl(url);\n  };\n});","lineCount":91,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"apiConfig"],[15,22,46,0],[16,4,46,0],[17,2,46,0],[18,2,49,0,"Object"],[18,8,49,0],[18,9,49,0,"defineProperty"],[18,23,49,0],[18,24,49,0,"exports"],[18,31,49,0],[19,4,49,0,"enumerable"],[19,14,49,0],[20,4,49,0,"get"],[20,7,49,0],[20,18,49,0,"get"],[20,19,49,0],[21,6,49,0],[21,13,49,0,"getApiUrl"],[21,22,49,0],[22,4,49,0],[23,2,49,0],[24,2,55,0,"Object"],[24,8,55,0],[24,9,55,0,"defineProperty"],[24,23,55,0],[24,24,55,0,"exports"],[24,31,55,0],[25,4,55,0,"enumerable"],[25,14,55,0],[26,4,55,0,"get"],[26,7,55,0],[26,18,55,0,"get"],[26,19,55,0],[27,6,55,0],[27,13,55,0,"getApiUrlSync"],[27,26,55,0],[28,4,55,0],[29,2,55,0],[30,2,60,0,"Object"],[30,8,60,0],[30,9,60,0,"defineProperty"],[30,23,60,0],[30,24,60,0,"exports"],[30,31,60,0],[31,4,60,0,"enumerable"],[31,14,60,0],[32,4,60,0,"get"],[32,7,60,0],[32,18,60,0,"get"],[32,19,60,0],[33,6,60,0],[33,13,60,0,"setApiUrl"],[33,22,60,0],[34,4,60,0],[35,2,60,0],[36,2,1,0],[36,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[36,42,1,0],[36,45,1,0,"require"],[36,52,1,0],[36,53,1,0,"_dependencyMap"],[36,67,1,0],[37,2,1,0],[37,6,1,0,"AsyncStorage"],[37,18,1,0],[37,21,1,0,"_interopDefault"],[37,36,1,0],[37,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[37,73,1,0],[38,2,3,0],[38,8,3,6,"API_URL_KEY"],[38,19,3,17],[38,22,3,20],[38,38,3,36],[39,2,4,0],[39,8,4,6,"DEFAULT_API_URL"],[39,23,4,21],[39,26,4,24,"process"],[39,33,4,31],[39,34,4,32,"env"],[39,37,4,35],[39,38,4,36,"EXPO_PUBLIC_BACKEND_URL"],[39,61,4,59],[39,65,4,63],[39,118,4,116],[40,2,6,0],[40,8,6,6,"ApiConfig"],[40,17,6,15],[40,18,6,16],[41,4,7,10,"currentUrl"],[41,14,7,20],[41,17,7,31,"DEFAULT_API_URL"],[41,32,7,46],[42,4,8,10,"initialized"],[42,15,8,21],[42,18,8,33],[42,23,8,38],[43,4,10,2],[43,10,10,8,"initialize"],[43,20,10,18,"initialize"],[43,21,10,18],[43,23,10,36],[44,6,11,4],[44,10,11,8],[44,14,11,12],[44,15,11,13,"initialized"],[44,26,11,24],[44,28,11,26],[45,6,13,4],[45,10,13,8],[46,8,14,6],[46,14,14,12,"savedUrl"],[46,22,14,20],[46,25,14,23],[46,31,14,29,"AsyncStorage"],[46,43,14,41],[46,44,14,41,"default"],[46,51,14,41],[46,52,14,42,"getItem"],[46,59,14,49],[46,60,14,50,"API_URL_KEY"],[46,71,14,61],[46,72,14,62],[47,8,15,6],[47,12,15,10,"savedUrl"],[47,20,15,18],[47,22,15,20],[48,10,16,8],[48,14,16,12],[48,15,16,13,"currentUrl"],[48,25,16,23],[48,28,16,26,"savedUrl"],[48,36,16,34],[49,8,17,6],[50,8,18,6],[50,12,18,10],[50,13,18,11,"initialized"],[50,24,18,22],[50,27,18,25],[50,31,18,29],[51,6,19,4],[51,7,19,5],[51,8,19,6],[51,15,19,13,"error"],[51,20,19,18],[51,22,19,20],[52,8,20,6,"console"],[52,15,20,13],[52,16,20,14,"error"],[52,21,20,19],[52,22,20,20],[52,60,20,58],[52,62,20,60,"error"],[52,67,20,65],[52,68,20,66],[53,8,21,6],[53,12,21,10],[53,13,21,11,"currentUrl"],[53,23,21,21],[53,26,21,24,"DEFAULT_API_URL"],[53,41,21,39],[54,8,22,6],[54,12,22,10],[54,13,22,11,"initialized"],[54,24,22,22],[54,27,22,25],[54,31,22,29],[55,6,23,4],[56,4,24,2],[57,4,26,2],[57,10,26,8,"setApiUrl"],[57,19,26,17,"setApiUrl"],[57,20,26,18,"url"],[57,23,26,29],[57,25,26,46],[58,6,27,4],[58,10,27,8],[59,8,28,6],[59,14,28,12,"AsyncStorage"],[59,26,28,24],[59,27,28,24,"default"],[59,34,28,24],[59,35,28,25,"setItem"],[59,42,28,32],[59,43,28,33,"API_URL_KEY"],[59,54,28,44],[59,56,28,46,"url"],[59,59,28,49],[59,60,28,50],[60,8,29,6],[60,12,29,10],[60,13,29,11,"currentUrl"],[60,23,29,21],[60,26,29,24,"url"],[60,29,29,27],[61,8,30,6,"console"],[61,15,30,13],[61,16,30,14,"log"],[61,19,30,17],[61,20,30,18],[61,41,30,39],[61,43,30,41,"url"],[61,46,30,44],[61,47,30,45],[62,6,31,4],[62,7,31,5],[62,8,31,6],[62,15,31,13,"error"],[62,20,31,18],[62,22,31,20],[63,8,32,6,"console"],[63,15,32,13],[63,16,32,14,"error"],[63,21,32,19],[63,22,32,20],[63,47,32,45],[63,49,32,47,"error"],[63,54,32,52],[63,55,32,53],[64,8,33,6],[64,14,33,12,"error"],[64,19,33,17],[65,6,34,4],[66,4,35,2],[67,4,37,2,"getApiUrl"],[67,13,37,11,"getApiUrl"],[67,14,37,11],[67,16,37,22],[68,6,38,4],[68,13,38,11],[68,17,38,15],[68,18,38,16,"currentUrl"],[68,28,38,26],[69,4,39,2],[70,4,41,2,"getDefaultUrl"],[70,17,41,15,"getDefaultUrl"],[70,18,41,15],[70,20,41,26],[71,6,42,4],[71,13,42,11,"DEFAULT_API_URL"],[71,28,42,26],[72,4,43,2],[73,2,44,0],[74,2,46,7],[74,8,46,13,"apiConfig"],[74,17,46,22],[74,20,46,25],[74,24,46,29,"ApiConfig"],[74,33,46,38],[74,34,46,39],[74,35,46,40],[76,2,48,0],[77,2,49,7],[77,8,49,13,"getApiUrl"],[77,17,49,22],[77,20,49,25],[77,26,49,25,"getApiUrl"],[77,27,49,25],[77,32,49,54],[78,4,50,2],[78,10,50,8,"apiConfig"],[78,19,50,17],[78,20,50,18,"initialize"],[78,30,50,28],[78,31,50,29],[78,32,50,30],[79,4,51,2],[79,11,51,9,"apiConfig"],[79,20,51,18],[79,21,51,19,"getApiUrl"],[79,30,51,28],[79,31,51,29],[79,32,51,30],[80,2,52,0],[80,3,52,1],[82,2,54,0],[83,2,55,7],[83,8,55,13,"getApiUrlSync"],[83,21,55,26],[83,24,55,29,"getApiUrlSync"],[83,25,55,29],[83,30,55,43],[84,4,56,2],[84,11,56,9,"apiConfig"],[84,20,56,18],[84,21,56,19,"getApiUrl"],[84,30,56,28],[84,31,56,29],[84,32,56,30],[85,2,57,0],[85,3,57,1],[87,2,59,0],[88,2,60,7],[88,8,60,13,"setApiUrl"],[88,17,60,22],[88,20,60,25],[88,26,60,32,"url"],[88,29,60,43],[88,33,60,63],[89,4,61,2],[89,10,61,8,"apiConfig"],[89,19,61,17],[89,20,61,18,"setApiUrl"],[89,29,61,27],[89,30,61,28,"url"],[89,33,61,31],[89,34,61,32],[90,2,62,0],[90,3,62,1],[91,0,62,2],[91,3]],"functionMap":{"names":["<global>","ApiConfig","ApiConfig#initialize","ApiConfig#setApiUrl","ApiConfig#getApiUrl","ApiConfig#getDefaultUrl","getApiUrl","getApiUrlSync","setApiUrl"],"mappings":"AAA;ACK;ECI;GDc;EEE;GFS;EGE;GHE;EIE;GJE;CDC;yBMK;CNG;6BOG;CPE;yBQG;CRE"},"hasCjsExports":false},"type":"js/module"}]}
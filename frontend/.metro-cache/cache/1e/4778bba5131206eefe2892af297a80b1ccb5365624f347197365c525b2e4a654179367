{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":69,"index":69}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"apiConfig\", {\n    enumerable: true,\n    get: function () {\n      return apiConfig;\n    }\n  });\n  Object.defineProperty(exports, \"getApiUrl\", {\n    enumerable: true,\n    get: function () {\n      return getApiUrl;\n    }\n  });\n  Object.defineProperty(exports, \"getApiUrlSync\", {\n    enumerable: true,\n    get: function () {\n      return getApiUrlSync;\n    }\n  });\n  Object.defineProperty(exports, \"setApiUrl\", {\n    enumerable: true,\n    get: function () {\n      return setApiUrl;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const API_URL_KEY = 'api_server_url';\n  const DEFAULT_API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://shooting-range-ua.preview.emergentagent.com';\n  class ApiConfig {\n    currentUrl = DEFAULT_API_URL;\n    initialized = false;\n    async initialize() {\n      if (this.initialized) return;\n      try {\n        const savedUrl = await AsyncStorage.default.getItem(API_URL_KEY);\n        if (savedUrl) {\n          this.currentUrl = savedUrl;\n        }\n        this.initialized = true;\n      } catch (error) {\n        console.error('Failed to load API URL from storage:', error);\n        this.currentUrl = DEFAULT_API_URL;\n        this.initialized = true;\n      }\n    }\n    async setApiUrl(url) {\n      try {\n        await AsyncStorage.default.setItem(API_URL_KEY, url);\n        this.currentUrl = url;\n        console.log('API URL updated to:', url);\n      } catch (error) {\n        console.error('Failed to save API URL:', error);\n        throw error;\n      }\n    }\n    getApiUrl() {\n      return this.currentUrl;\n    }\n    getDefaultUrl() {\n      return DEFAULT_API_URL;\n    }\n  }\n  const apiConfig = new ApiConfig();\n\n  // Helper function to get API URL (ensures initialization)\n  const getApiUrl = async () => {\n    await apiConfig.initialize();\n    return apiConfig.getApiUrl();\n  };\n\n  // Synchronous version (use only after initialization)\n  const getApiUrlSync = () => {\n    return apiConfig.getApiUrl();\n  };\n\n  // Update API URL\n  const setApiUrl = async url => {\n    await apiConfig.setApiUrl(url);\n  };\n});","lineCount":92,"map":[[12,2,46,0,"Object"],[12,8,46,0],[12,9,46,0,"defineProperty"],[12,23,46,0],[12,24,46,0,"exports"],[12,31,46,0],[13,4,46,0,"enumerable"],[13,14,46,0],[14,4,46,0,"get"],[14,7,46,0],[14,18,46,0,"get"],[14,19,46,0],[15,6,46,0],[15,13,46,0,"apiConfig"],[15,22,46,0],[16,4,46,0],[17,2,46,0],[18,2,49,0,"Object"],[18,8,49,0],[18,9,49,0,"defineProperty"],[18,23,49,0],[18,24,49,0,"exports"],[18,31,49,0],[19,4,49,0,"enumerable"],[19,14,49,0],[20,4,49,0,"get"],[20,7,49,0],[20,18,49,0,"get"],[20,19,49,0],[21,6,49,0],[21,13,49,0,"getApiUrl"],[21,22,49,0],[22,4,49,0],[23,2,49,0],[24,2,55,0,"Object"],[24,8,55,0],[24,9,55,0,"defineProperty"],[24,23,55,0],[24,24,55,0,"exports"],[24,31,55,0],[25,4,55,0,"enumerable"],[25,14,55,0],[26,4,55,0,"get"],[26,7,55,0],[26,18,55,0,"get"],[26,19,55,0],[27,6,55,0],[27,13,55,0,"getApiUrlSync"],[27,26,55,0],[28,4,55,0],[29,2,55,0],[30,2,60,0,"Object"],[30,8,60,0],[30,9,60,0,"defineProperty"],[30,23,60,0],[30,24,60,0,"exports"],[30,31,60,0],[31,4,60,0,"enumerable"],[31,14,60,0],[32,4,60,0,"get"],[32,7,60,0],[32,18,60,0,"get"],[32,19,60,0],[33,6,60,0],[33,13,60,0,"setApiUrl"],[33,22,60,0],[34,4,60,0],[35,2,60,0],[36,2,62,2],[36,6,62,2,"_expoVirtualEnv"],[36,21,62,2],[36,24,62,2,"require"],[36,31,62,2],[36,32,62,2,"_dependencyMap"],[36,46,62,2],[37,2,1,0],[37,6,1,0,"_reactNativeAsyncStorageAsyncStorage"],[37,42,1,0],[37,45,1,0,"require"],[37,52,1,0],[37,53,1,0,"_dependencyMap"],[37,67,1,0],[38,2,1,0],[38,6,1,0,"AsyncStorage"],[38,18,1,0],[38,21,1,0,"_interopDefault"],[38,36,1,0],[38,37,1,0,"_reactNativeAsyncStorageAsyncStorage"],[38,73,1,0],[39,2,3,0],[39,8,3,6,"API_URL_KEY"],[39,19,3,17],[39,22,3,20],[39,38,3,36],[40,2,4,0],[40,8,4,6,"DEFAULT_API_URL"],[40,23,4,21],[40,26,4,24,"_expoVirtualEnv"],[40,41,4,24],[40,42,4,24,"env"],[40,45,4,24],[40,46,4,24,"EXPO_PUBLIC_BACKEND_URL"],[40,69,4,24],[40,73,4,63],[40,126,4,116],[41,2,6,0],[41,8,6,6,"ApiConfig"],[41,17,6,15],[41,18,6,16],[42,4,7,10,"currentUrl"],[42,14,7,20],[42,17,7,31,"DEFAULT_API_URL"],[42,32,7,46],[43,4,8,10,"initialized"],[43,15,8,21],[43,18,8,33],[43,23,8,38],[44,4,10,2],[44,10,10,8,"initialize"],[44,20,10,18,"initialize"],[44,21,10,18],[44,23,10,36],[45,6,11,4],[45,10,11,8],[45,14,11,12],[45,15,11,13,"initialized"],[45,26,11,24],[45,28,11,26],[46,6,13,4],[46,10,13,8],[47,8,14,6],[47,14,14,12,"savedUrl"],[47,22,14,20],[47,25,14,23],[47,31,14,29,"AsyncStorage"],[47,43,14,41],[47,44,14,41,"default"],[47,51,14,41],[47,52,14,42,"getItem"],[47,59,14,49],[47,60,14,50,"API_URL_KEY"],[47,71,14,61],[47,72,14,62],[48,8,15,6],[48,12,15,10,"savedUrl"],[48,20,15,18],[48,22,15,20],[49,10,16,8],[49,14,16,12],[49,15,16,13,"currentUrl"],[49,25,16,23],[49,28,16,26,"savedUrl"],[49,36,16,34],[50,8,17,6],[51,8,18,6],[51,12,18,10],[51,13,18,11,"initialized"],[51,24,18,22],[51,27,18,25],[51,31,18,29],[52,6,19,4],[52,7,19,5],[52,8,19,6],[52,15,19,13,"error"],[52,20,19,18],[52,22,19,20],[53,8,20,6,"console"],[53,15,20,13],[53,16,20,14,"error"],[53,21,20,19],[53,22,20,20],[53,60,20,58],[53,62,20,60,"error"],[53,67,20,65],[53,68,20,66],[54,8,21,6],[54,12,21,10],[54,13,21,11,"currentUrl"],[54,23,21,21],[54,26,21,24,"DEFAULT_API_URL"],[54,41,21,39],[55,8,22,6],[55,12,22,10],[55,13,22,11,"initialized"],[55,24,22,22],[55,27,22,25],[55,31,22,29],[56,6,23,4],[57,4,24,2],[58,4,26,2],[58,10,26,8,"setApiUrl"],[58,19,26,17,"setApiUrl"],[58,20,26,18,"url"],[58,23,26,29],[58,25,26,46],[59,6,27,4],[59,10,27,8],[60,8,28,6],[60,14,28,12,"AsyncStorage"],[60,26,28,24],[60,27,28,24,"default"],[60,34,28,24],[60,35,28,25,"setItem"],[60,42,28,32],[60,43,28,33,"API_URL_KEY"],[60,54,28,44],[60,56,28,46,"url"],[60,59,28,49],[60,60,28,50],[61,8,29,6],[61,12,29,10],[61,13,29,11,"currentUrl"],[61,23,29,21],[61,26,29,24,"url"],[61,29,29,27],[62,8,30,6,"console"],[62,15,30,13],[62,16,30,14,"log"],[62,19,30,17],[62,20,30,18],[62,41,30,39],[62,43,30,41,"url"],[62,46,30,44],[62,47,30,45],[63,6,31,4],[63,7,31,5],[63,8,31,6],[63,15,31,13,"error"],[63,20,31,18],[63,22,31,20],[64,8,32,6,"console"],[64,15,32,13],[64,16,32,14,"error"],[64,21,32,19],[64,22,32,20],[64,47,32,45],[64,49,32,47,"error"],[64,54,32,52],[64,55,32,53],[65,8,33,6],[65,14,33,12,"error"],[65,19,33,17],[66,6,34,4],[67,4,35,2],[68,4,37,2,"getApiUrl"],[68,13,37,11,"getApiUrl"],[68,14,37,11],[68,16,37,22],[69,6,38,4],[69,13,38,11],[69,17,38,15],[69,18,38,16,"currentUrl"],[69,28,38,26],[70,4,39,2],[71,4,41,2,"getDefaultUrl"],[71,17,41,15,"getDefaultUrl"],[71,18,41,15],[71,20,41,26],[72,6,42,4],[72,13,42,11,"DEFAULT_API_URL"],[72,28,42,26],[73,4,43,2],[74,2,44,0],[75,2,46,7],[75,8,46,13,"apiConfig"],[75,17,46,22],[75,20,46,25],[75,24,46,29,"ApiConfig"],[75,33,46,38],[75,34,46,39],[75,35,46,40],[77,2,48,0],[78,2,49,7],[78,8,49,13,"getApiUrl"],[78,17,49,22],[78,20,49,25],[78,26,49,25,"getApiUrl"],[78,27,49,25],[78,32,49,54],[79,4,50,2],[79,10,50,8,"apiConfig"],[79,19,50,17],[79,20,50,18,"initialize"],[79,30,50,28],[79,31,50,29],[79,32,50,30],[80,4,51,2],[80,11,51,9,"apiConfig"],[80,20,51,18],[80,21,51,19,"getApiUrl"],[80,30,51,28],[80,31,51,29],[80,32,51,30],[81,2,52,0],[81,3,52,1],[83,2,54,0],[84,2,55,7],[84,8,55,13,"getApiUrlSync"],[84,21,55,26],[84,24,55,29,"getApiUrlSync"],[84,25,55,29],[84,30,55,43],[85,4,56,2],[85,11,56,9,"apiConfig"],[85,20,56,18],[85,21,56,19,"getApiUrl"],[85,30,56,28],[85,31,56,29],[85,32,56,30],[86,2,57,0],[86,3,57,1],[88,2,59,0],[89,2,60,7],[89,8,60,13,"setApiUrl"],[89,17,60,22],[89,20,60,25],[89,26,60,32,"url"],[89,29,60,43],[89,33,60,63],[90,4,61,2],[90,10,61,8,"apiConfig"],[90,19,61,17],[90,20,61,18,"setApiUrl"],[90,29,61,27],[90,30,61,28,"url"],[90,33,61,31],[90,34,61,32],[91,2,62,0],[91,3,62,1],[92,0,62,2],[92,3]],"functionMap":{"names":["<global>","ApiConfig","ApiConfig#initialize","ApiConfig#setApiUrl","ApiConfig#getApiUrl","ApiConfig#getDefaultUrl","getApiUrl","getApiUrlSync","setApiUrl"],"mappings":"AAA;ACK;ECI;GDc;EEE;GFS;EGE;GHE;EIE;GJE;CDC;yBMK;CNG;6BOG;CPE;yBQG;CRE"},"hasCjsExports":false},"type":"js/module"}]}